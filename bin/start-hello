#!/usr/bin/env python2

import os
import sys
import uuid


# TODO: fix this hack
# This adds the parent dir to the PYTHONPATH
sys.path.insert(0, os.path.dirname(os.path.dirname(os.path.abspath(__file__))))


from klaczng.modules import hello


if __name__ == '__main__':
    if len(sys.argv) < 2:
        print 'Usage: {} queue_host'.format(sys.argv[0])
        sys.exit(1)
    t = hello.Hello(sys.argv[1])
    queue = str(uuid.uuid4())
    t.queue_bind(queue, 'events', 'klacz.privmsg.hello')
    t.start_recieving(queue)
